<div class="financial-tab patient-financial-tab bs-loading-overlay-fullscreen"
     bs-loading-overlay
     bs-loading-overlay-reference-id="financialTab"
>

    <financial-data amounts="financial.amountObject" class="financial-header"></financial-data>

    <div class="financial-header-tabs">
        <content-tabs tabs="financial.contentTabs"></content-tabs>
        <md-button class="md-raised show-history"
                   aria-label="..."
                   ng-class="{'arrow-back-button': financial.isShowingHistory}"
                   ng-click="financial.showHistory()">

            <md-icon md-svg-src="assets/images/default/history.svg"
                     ng-if="!financial.isShowingHistory">
            </md-icon>

            <md-icon md-svg-src="assets/images/default/arrow.svg"
                     ng-if="financial.isShowingHistory"
                     class="rotate-arrow">
            </md-icon>

            <span ng-if="!financial.isShowingHistory">History</span>
            <span ng-if="financial.isShowingHistory && financial.invoicesState()">Active</span>
            <span ng-if="financial.isShowingHistory && financial.paymentsState()">Recent</span>
        </md-button>
    </div>

    <div class="financial-list" ui-view></div>

    <ul ng-if="financial.itemsCount > financial.paginationParams.pageSize"
        uib-pagination
        total-items="financial.itemsCount"
        ng-model="financial.paginationParams.pageIndex"
        items-per-page="financial.paginationParams.pageSize"
        ng-change="financial.loadInvoices(financial.paginationParams.pageIndex - 1)"
        max-size="financial.paginationParams.pageSize"
        class="pagination-sm tab-pagination"
        boundary-link-numbers="false"
        previous-text="&lsaquo;"
        next-text="&rsaquo;">
    </ul>

</div>
