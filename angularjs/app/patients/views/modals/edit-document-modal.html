<div class="modal-window edit-doc-modal"
     bs-loading-overlay
     bs-loading-overlay-reference-id="modalOverlay">

    <a href="javascript:void(0);" ng-click="$ctrl.close()" class="close-modal"></a>

    <md-dialog-content class="md-dialog-content" ng-form="$ctrl.Form">

        <md-icon class="modal-icon" md-svg-src="assets/images/default/documents.svg"></md-icon>

        <div class="modal-title">
            <h2>Document Details:</h2>
        </div>

        <div class="flex-row">
            <div class="info-block grow-1">
                <md-autocomplete
                        md-search-text="searchDocType"
                        md-selected-item="$ctrl.model.DocumentType"
                        md-items="docType in $ctrl.getDocumentTypesDictionary(searchDocType)"
                        md-item-text="docType.Text"
                        md-min-length="0"
                        md-input-name="docType"
                        md-floating-label="Document Type:"
                        ng-required="true"
                        md-require-match="true"
                        clear-on-click>
                    <md-item-template>
                        <div md-highlight-flags="^i" title="{{docType.Text}}">{{docType.Text}}</div>
                    </md-item-template>
                    <div ng-messages="$ctrl.Form.docType.$error"
                         class="md-input-messages-nice">
                        <div ng-message="required">This field is required</div>
                        <div ng-message="md-require-match">Document Type must be selected.</div>
                    </div>
                </md-autocomplete>
            </div>
            <div class="info-block block-width-150" ng-if="$ctrl.model.DocumentType.IsCmn">
                <md-input-container>
                    <label>Expiration Date:</label>
                    <input type="text"
                           name="ExpiredDate"
                           datetimepicker
                           min-date="today"
                           format="MM/DD/YYYY"
                           ng-model="$ctrl.model.ExpiredDate"
                           ng-required="true">
                    <div ng-messages="$ctrl.Form.ExpiredDate.$error"
                         class="md-input-messages-nice">
                        <div ng-message="required">This field is required</div>
                    </div>
                </md-input-container>
            </div>
        </div>

        <div class="flex-row">
            <div class="info-block grow-1">
                <md-input-container>
                    <label>Notes:</label>
                    <textarea ng-model="$ctrl.model.Description" maxlength="500"></textarea>
                </md-input-container>
            </div>
        </div>

    </md-dialog-content>

    <md-dialog-actions class="modalFooter" layout="row" layout-align="end center">
        <md-button class="md-raised main-button" ng-click="$ctrl.close()">Cancel</md-button>
        <md-button class="md-primary md-raised main-button" ng-click="$ctrl.save()">
            Save
        </md-button>
    </md-dialog-actions>
</div>
